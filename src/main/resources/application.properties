spring.application.name=customer-service-app

# Datasource config via env with safe defaults
spring.datasource.url=${SPRING_DATASOURCE_URL:${JDBC_URL:${DATABASE_URL:jdbc:postgresql://localhost:5432/customer_service_app}}}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${DB_USERNAME:${POSTGRES_USER:postgres}}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${DB_PASSWORD:${POSTGRES_PASSWORD:(!2KvQSnQzWg)}}}
spring.datasource.hikari.maximum-pool-size=5
spring.sql.init.mode=never

# Flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# Thymeleaf
spring.thymeleaf.cache=false

# DevTools - ensure restart + LiveReload are active during dev
spring.devtools.restart.enabled=true
spring.devtools.restart.poll-interval=2s
spring.devtools.restart.quiet-period=1s
spring.devtools.livereload.enabled=true
# Watch source folders in addition to classpath outputs (useful with IDE auto-make)
spring.devtools.restart.additional-paths=src/main/resources/templates,src/main/resources/static

# Logging
logging.level.org.springframework.jdbc.core=INFO
logging.level.org.springframework.jdbc.core.simple.JdbcClient=DEBUG

# Java 21 virtual threads (Spring Boot 3.2+)
spring.threads.virtual.enabled=true

# Bind server explicitly; default to 8082, overridable via SERVER_PORT env var
server.port=${SERVER_PORT:8082}

# Expose selected actuator endpoints for easier debugging via http/requests.http
management.endpoints.web.exposure.include=health,info,mappings
